<%= stream_from :players %>
<%= stream_from :counter %>

<div data-controller="search">
  <button data-reflex="click->Player#increment">Increment Counter</button>

  The counter currently reads: <span id="counter"><%= Rails.cache.fetch("counter", raw: true) {0} %></span>
    <%= form_with(method: :get) do |form| %>
      <%= form.label :query, "Search by name:" %>
      <%= form.text_field :query, data: { action: "input->search#search" }, autocomplete: "off", value: params[:query] %>
    <% end %>
  </div>
  <div>
  <h4>you have <%=@pagy.count  %> players</h4>
  <h4 id="players-count">you have <%=@active_players  %> players active</h4>
  </div>
<div id="players">
  <%= render partial: 'players/players', locals: { players: @players } %>
</div>
  <%= render partial: "paginator", locals: { pagy: @pagy } %>
